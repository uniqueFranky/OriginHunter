{
  "origin": "codeshovel",
  "repositoryName": "asciinema",
  "repositoryPath": "/Users/franky/Documents/Homework/毕业设计/testcase/asciinema/.git",
  "startCommitName": "631831deadfc2d6ee55fff9d8c035caf5ef38d56",
  "sourceFileName": "player.py",
  "functionName": "play",
  "functionId": "Player__play___self__asciicast__idle_time_limit(default-None)__speed(default-1.0)",
  "sourceFilePath": "asciinema/player.py",
  "functionAnnotation": "",
  "functionStartLine": 11,
  "functionEndLine": 18,
  "numCommitsSeen": 26,
  "timeTaken": 216,
  "changeHistory": [
    "7b9c8298b49936b0d0ae82ae19d5ba985b0274c6",
    "a3a38794e5e1d962c2941ea9667326c09b52aa64",
    "ac58f27a2e758bf4cd3c5eb3d11a343b27b95dbc",
    "479cfafecba2595332113ce18b421bc4955b1ad4",
    "65136bf01d81ecdb73d383ad49b574e7d6c75fde",
    "93851e03c35e6e0deda65331ed6203e9d086cebf",
    "d665ebf5569a84ab52b51b5c91661250f69c5a0c",
    "33a21aa2da853e2c6a38c7c7f9bd665240edc82f"
  ],
  "changeHistoryShort": {
    "7b9c8298b49936b0d0ae82ae19d5ba985b0274c6": "Ybodychange",
    "a3a38794e5e1d962c2941ea9667326c09b52aa64": "Ybodychange",
    "ac58f27a2e758bf4cd3c5eb3d11a343b27b95dbc": "Ymultichange(Yparameterchange,Ybodychange)",
    "479cfafecba2595332113ce18b421bc4955b1ad4": "Ybodychange",
    "65136bf01d81ecdb73d383ad49b574e7d6c75fde": "Ybodychange",
    "93851e03c35e6e0deda65331ed6203e9d086cebf": "Ymultichange(Yparameterchange,Ybodychange)",
    "d665ebf5569a84ab52b51b5c91661250f69c5a0c": "Ymultichange(Yparameterchange,Ybodychange)",
    "33a21aa2da853e2c6a38c7c7f9bd665240edc82f": "Yintroduced"
  },
  "changeHistoryDetails": {
    "7b9c8298b49936b0d0ae82ae19d5ba985b0274c6": {
      "type": "Ybodychange",
      "commitMessage": "Fix pycodestyle (pep8) errors\n",
      "commitDate": "2018/12/9 上午2:02",
      "commitName": "7b9c8298b49936b0d0ae82ae19d5ba985b0274c6",
      "commitAuthor": "Marcin Kulik",
      "commitDateOld": "2018/3/2 上午3:53",
      "commitNameOld": "96ea4e735e5d5dac54ce4bd3011920f09e4905a3",
      "commitAuthorOld": "Marcin Kulik",
      "daysBetweenCommits": 281.92,
      "commitsBetweenForRepo": 17,
      "commitsBetweenForFile": 1,
      "actualSource": "    def play(self, asciicast, idle_time_limit\u003dNone, speed\u003d1.0):\n        try:\n            stdin \u003d open(\u0027/dev/tty\u0027)\n            with raw(stdin.fileno()):\n                self._play(asciicast, idle_time_limit, speed, stdin)\n        except Exception:\n            self._play(asciicast, idle_time_limit, speed, None)\n",
      "path": "asciinema/player.py",
      "functionStartLine": 11,
      "functionName": "play",
      "functionAnnotation": "",
      "diff": "@@ -1,7 +1,7 @@\n     def play(self, asciicast, idle_time_limit\u003dNone, speed\u003d1.0):\n         try:\n             stdin \u003d open(\u0027/dev/tty\u0027)\n             with raw(stdin.fileno()):\n                 self._play(asciicast, idle_time_limit, speed, stdin)\n-        except:\n+        except Exception:\n             self._play(asciicast, idle_time_limit, speed, None)\n",
      "extendedDetails": {}
    },
    "a3a38794e5e1d962c2941ea9667326c09b52aa64": {
      "type": "Ybodychange",
      "commitMessage": "Use /dev/tty as stdin during playback\n",
      "commitDate": "2017/11/19 上午1:53",
      "commitName": "a3a38794e5e1d962c2941ea9667326c09b52aa64",
      "commitAuthor": "Marcin Kulik",
      "commitDateOld": "2017/11/12 下午8:08",
      "commitNameOld": "8f804bf687e6ccdf62ffed2afe6e765fc758c460",
      "commitAuthorOld": "Marcin Kulik",
      "daysBetweenCommits": 6.24,
      "commitsBetweenForRepo": 14,
      "commitsBetweenForFile": 1,
      "actualSource": "    def play(self, asciicast, idle_time_limit\u003dNone, speed\u003d1.0):\n        try:\n            stdin \u003d open(\u0027/dev/tty\u0027)\n            with raw(stdin.fileno()):\n                self._play(asciicast, idle_time_limit, speed, stdin)\n        except:\n            self._play(asciicast, idle_time_limit, speed, None)\n",
      "path": "asciinema/player.py",
      "functionStartLine": 11,
      "functionName": "play",
      "functionAnnotation": "",
      "diff": "@@ -1,6 +1,7 @@\n     def play(self, asciicast, idle_time_limit\u003dNone, speed\u003d1.0):\n-        if os.isatty(sys.stdin.fileno()):\n-            with raw(sys.stdin.fileno()):\n-                self._play(asciicast, idle_time_limit, speed, True)\n-        else:\n-            self._play(asciicast, idle_time_limit, speed, False)\n+        try:\n+            stdin \u003d open(\u0027/dev/tty\u0027)\n+            with raw(stdin.fileno()):\n+                self._play(asciicast, idle_time_limit, speed, stdin)\n+        except:\n+            self._play(asciicast, idle_time_limit, speed, None)\n",
      "extendedDetails": {}
    },
    "ac58f27a2e758bf4cd3c5eb3d11a343b27b95dbc": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Rename max-wait to idle-time-limit\n",
      "commitDate": "2017/10/26 下午7:21",
      "commitName": "ac58f27a2e758bf4cd3c5eb3d11a343b27b95dbc",
      "commitAuthor": "Marcin Kulik",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "Rename max-wait to idle-time-limit\n",
          "commitDate": "2017/10/26 下午7:21",
          "commitName": "ac58f27a2e758bf4cd3c5eb3d11a343b27b95dbc",
          "commitAuthor": "Marcin Kulik",
          "commitDateOld": "2017/9/22 下午3:40",
          "commitNameOld": "8927554e445a0915a67da3c32e656645aee7a96c",
          "commitAuthorOld": "Marcin Kulik",
          "daysBetweenCommits": 34.15,
          "commitsBetweenForRepo": 25,
          "commitsBetweenForFile": 1,
          "actualSource": "    def play(self, asciicast, idle_time_limit\u003dNone, speed\u003d1.0):\n        if os.isatty(sys.stdin.fileno()):\n            with raw(sys.stdin.fileno()):\n                self._play(asciicast, idle_time_limit, speed, True)\n        else:\n            self._play(asciicast, idle_time_limit, speed, False)\n",
          "path": "asciinema/player.py",
          "functionStartLine": 21,
          "functionName": "play",
          "functionAnnotation": "",
          "diff": "@@ -1,6 +1,6 @@\n-    def play(self, asciicast, max_wait\u003dNone, speed\u003d1.0):\n+    def play(self, asciicast, idle_time_limit\u003dNone, speed\u003d1.0):\n         if os.isatty(sys.stdin.fileno()):\n             with raw(sys.stdin.fileno()):\n-                self._play(asciicast, max_wait, speed, True)\n+                self._play(asciicast, idle_time_limit, speed, True)\n         else:\n-            self._play(asciicast, max_wait, speed, False)\n+            self._play(asciicast, idle_time_limit, speed, False)\n",
          "extendedDetails": {
            "oldValue": "[self, asciicast, max_wait(default-None), speed(default-1.0)]",
            "newValue": "[self, asciicast, idle_time_limit(default-None), speed(default-1.0)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Rename max-wait to idle-time-limit\n",
          "commitDate": "2017/10/26 下午7:21",
          "commitName": "ac58f27a2e758bf4cd3c5eb3d11a343b27b95dbc",
          "commitAuthor": "Marcin Kulik",
          "commitDateOld": "2017/9/22 下午3:40",
          "commitNameOld": "8927554e445a0915a67da3c32e656645aee7a96c",
          "commitAuthorOld": "Marcin Kulik",
          "daysBetweenCommits": 34.15,
          "commitsBetweenForRepo": 25,
          "commitsBetweenForFile": 1,
          "actualSource": "    def play(self, asciicast, idle_time_limit\u003dNone, speed\u003d1.0):\n        if os.isatty(sys.stdin.fileno()):\n            with raw(sys.stdin.fileno()):\n                self._play(asciicast, idle_time_limit, speed, True)\n        else:\n            self._play(asciicast, idle_time_limit, speed, False)\n",
          "path": "asciinema/player.py",
          "functionStartLine": 21,
          "functionName": "play",
          "functionAnnotation": "",
          "diff": "@@ -1,6 +1,6 @@\n-    def play(self, asciicast, max_wait\u003dNone, speed\u003d1.0):\n+    def play(self, asciicast, idle_time_limit\u003dNone, speed\u003d1.0):\n         if os.isatty(sys.stdin.fileno()):\n             with raw(sys.stdin.fileno()):\n-                self._play(asciicast, max_wait, speed, True)\n+                self._play(asciicast, idle_time_limit, speed, True)\n         else:\n-            self._play(asciicast, max_wait, speed, False)\n+            self._play(asciicast, idle_time_limit, speed, False)\n",
          "extendedDetails": {}
        }
      ]
    },
    "479cfafecba2595332113ce18b421bc4955b1ad4": {
      "type": "Ybodychange",
      "commitMessage": "Eat all stdin data during playback ONLY IF stdin is a TTY\n",
      "commitDate": "2017/4/11 下午11:15",
      "commitName": "479cfafecba2595332113ce18b421bc4955b1ad4",
      "commitAuthor": "Marcin Kulik",
      "commitDateOld": "2017/3/25 下午8:34",
      "commitNameOld": "65136bf01d81ecdb73d383ad49b574e7d6c75fde",
      "commitAuthorOld": "Marcin Kulik",
      "daysBetweenCommits": 17.11,
      "commitsBetweenForRepo": 5,
      "commitsBetweenForFile": 1,
      "actualSource": "    def play(self, asciicast, max_wait\u003dNone, speed\u003d1.0):\n        if os.isatty(sys.stdin.fileno()):\n            with raw(sys.stdin.fileno()):\n                self._play(asciicast, max_wait, speed, True)\n        else:\n            self._play(asciicast, max_wait, speed, False)\n",
      "path": "asciinema/player.py",
      "functionStartLine": 10,
      "functionName": "play",
      "functionAnnotation": "",
      "diff": "@@ -1,12 +1,6 @@\n     def play(self, asciicast, max_wait\u003dNone, speed\u003d1.0):\n-        with raw(sys.stdin.fileno()):\n-            for delay, text in asciicast.stdout:\n-                if max_wait and delay \u003e max_wait:\n-                    delay \u003d max_wait\n-                time.sleep(delay / speed)\n-                sys.stdout.write(text)\n-                sys.stdout.flush()\n-\n-                data \u003d read_non_blocking(sys.stdin.fileno())\n-                if 0x03 in data:  # ctrl-c\n-                    break\n\\ No newline at end of file\n+        if os.isatty(sys.stdin.fileno()):\n+            with raw(sys.stdin.fileno()):\n+                self._play(asciicast, max_wait, speed, True)\n+        else:\n+            self._play(asciicast, max_wait, speed, False)\n",
      "extendedDetails": {}
    },
    "65136bf01d81ecdb73d383ad49b574e7d6c75fde": {
      "type": "Ybodychange",
      "commitMessage": "Eat all stdin during playback (fixes #194, fixes #192, fixes #108)\n",
      "commitDate": "2017/3/25 下午8:34",
      "commitName": "65136bf01d81ecdb73d383ad49b574e7d6c75fde",
      "commitAuthor": "Marcin Kulik",
      "commitDateOld": "2017/1/23 下午11:27",
      "commitNameOld": "93851e03c35e6e0deda65331ed6203e9d086cebf",
      "commitAuthorOld": "Bastiaan Bakker",
      "daysBetweenCommits": 60.88,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "actualSource": "    def play(self, asciicast, max_wait\u003dNone, speed\u003d1.0):\n        with raw(sys.stdin.fileno()):\n            for delay, text in asciicast.stdout:\n                if max_wait and delay \u003e max_wait:\n                    delay \u003d max_wait\n                time.sleep(delay / speed)\n                sys.stdout.write(text)\n                sys.stdout.flush()\n\n                data \u003d read_non_blocking(sys.stdin.fileno())\n                if 0x03 in data:  # ctrl-c\n                    break",
      "path": "asciinema/player.py",
      "functionStartLine": 9,
      "functionName": "play",
      "functionAnnotation": "",
      "diff": "@@ -1,7 +1,12 @@\n     def play(self, asciicast, max_wait\u003dNone, speed\u003d1.0):\n-        for delay, text in asciicast.stdout:\n-            if max_wait and delay \u003e max_wait:\n-                delay \u003d max_wait\n-            time.sleep(delay / speed)\n-            sys.stdout.write(text)\n-            sys.stdout.flush()\n\\ No newline at end of file\n+        with raw(sys.stdin.fileno()):\n+            for delay, text in asciicast.stdout:\n+                if max_wait and delay \u003e max_wait:\n+                    delay \u003d max_wait\n+                time.sleep(delay / speed)\n+                sys.stdout.write(text)\n+                sys.stdout.flush()\n+\n+                data \u003d read_non_blocking(sys.stdin.fileno())\n+                if 0x03 in data:  # ctrl-c\n+                    break\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "93851e03c35e6e0deda65331ed6203e9d086cebf": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "add --speed parameter to play command\n",
      "commitDate": "2017/1/23 下午11:27",
      "commitName": "93851e03c35e6e0deda65331ed6203e9d086cebf",
      "commitAuthor": "Bastiaan Bakker",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "add --speed parameter to play command\n",
          "commitDate": "2017/1/23 下午11:27",
          "commitName": "93851e03c35e6e0deda65331ed6203e9d086cebf",
          "commitAuthor": "Bastiaan Bakker",
          "commitDateOld": "2016/10/14 上午6:52",
          "commitNameOld": "46696846e12730d3aa8331163f2dc42744f5f057",
          "commitAuthorOld": "Jakub Jedelsky",
          "daysBetweenCommits": 101.69,
          "commitsBetweenForRepo": 5,
          "commitsBetweenForFile": 1,
          "actualSource": "    def play(self, asciicast, max_wait\u003dNone, speed\u003d1.0):\n        for delay, text in asciicast.stdout:\n            if max_wait and delay \u003e max_wait:\n                delay \u003d max_wait\n            time.sleep(delay / speed)\n            sys.stdout.write(text)\n            sys.stdout.flush()",
          "path": "asciinema/player.py",
          "functionStartLine": 7,
          "functionName": "play",
          "functionAnnotation": "",
          "diff": "@@ -1,7 +1,7 @@\n-    def play(self, asciicast, max_wait\u003dNone):\n+    def play(self, asciicast, max_wait\u003dNone, speed\u003d1.0):\n         for delay, text in asciicast.stdout:\n             if max_wait and delay \u003e max_wait:\n                 delay \u003d max_wait\n-            time.sleep(delay)\n+            time.sleep(delay / speed)\n             sys.stdout.write(text)\n             sys.stdout.flush()\n\\ No newline at end of file\n",
          "extendedDetails": {
            "oldValue": "[self, asciicast, max_wait(default-None)]",
            "newValue": "[self, asciicast, max_wait(default-None), speed(default-1.0)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "add --speed parameter to play command\n",
          "commitDate": "2017/1/23 下午11:27",
          "commitName": "93851e03c35e6e0deda65331ed6203e9d086cebf",
          "commitAuthor": "Bastiaan Bakker",
          "commitDateOld": "2016/10/14 上午6:52",
          "commitNameOld": "46696846e12730d3aa8331163f2dc42744f5f057",
          "commitAuthorOld": "Jakub Jedelsky",
          "daysBetweenCommits": 101.69,
          "commitsBetweenForRepo": 5,
          "commitsBetweenForFile": 1,
          "actualSource": "    def play(self, asciicast, max_wait\u003dNone, speed\u003d1.0):\n        for delay, text in asciicast.stdout:\n            if max_wait and delay \u003e max_wait:\n                delay \u003d max_wait\n            time.sleep(delay / speed)\n            sys.stdout.write(text)\n            sys.stdout.flush()",
          "path": "asciinema/player.py",
          "functionStartLine": 7,
          "functionName": "play",
          "functionAnnotation": "",
          "diff": "@@ -1,7 +1,7 @@\n-    def play(self, asciicast, max_wait\u003dNone):\n+    def play(self, asciicast, max_wait\u003dNone, speed\u003d1.0):\n         for delay, text in asciicast.stdout:\n             if max_wait and delay \u003e max_wait:\n                 delay \u003d max_wait\n-            time.sleep(delay)\n+            time.sleep(delay / speed)\n             sys.stdout.write(text)\n             sys.stdout.flush()\n\\ No newline at end of file\n",
          "extendedDetails": {}
        }
      ]
    },
    "d665ebf5569a84ab52b51b5c91661250f69c5a0c": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Add -w option to play command\n",
      "commitDate": "2016/7/2 上午1:26",
      "commitName": "d665ebf5569a84ab52b51b5c91661250f69c5a0c",
      "commitAuthor": "Marcin Kulik",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "Add -w option to play command\n",
          "commitDate": "2016/7/2 上午1:26",
          "commitName": "d665ebf5569a84ab52b51b5c91661250f69c5a0c",
          "commitAuthor": "Marcin Kulik",
          "commitDateOld": "2016/7/2 上午1:12",
          "commitNameOld": "33a21aa2da853e2c6a38c7c7f9bd665240edc82f",
          "commitAuthorOld": "Marcin Kulik",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 4,
          "commitsBetweenForFile": 1,
          "actualSource": "    def play(self, asciicast, max_wait\u003dNone):\n        for delay, text in asciicast.stdout:\n            if max_wait and delay \u003e max_wait:\n                delay \u003d max_wait\n            time.sleep(delay)\n            sys.stdout.write(text)\n            sys.stdout.flush()",
          "path": "asciinema/player.py",
          "functionStartLine": 6,
          "functionName": "play",
          "functionAnnotation": "",
          "diff": "@@ -1,5 +1,7 @@\n-    def play(self, asciicast):\n+    def play(self, asciicast, max_wait\u003dNone):\n         for delay, text in asciicast.stdout:\n+            if max_wait and delay \u003e max_wait:\n+                delay \u003d max_wait\n             time.sleep(delay)\n             sys.stdout.write(text)\n             sys.stdout.flush()\n\\ No newline at end of file\n",
          "extendedDetails": {
            "oldValue": "[self, asciicast]",
            "newValue": "[self, asciicast, max_wait(default-None)]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Add -w option to play command\n",
          "commitDate": "2016/7/2 上午1:26",
          "commitName": "d665ebf5569a84ab52b51b5c91661250f69c5a0c",
          "commitAuthor": "Marcin Kulik",
          "commitDateOld": "2016/7/2 上午1:12",
          "commitNameOld": "33a21aa2da853e2c6a38c7c7f9bd665240edc82f",
          "commitAuthorOld": "Marcin Kulik",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 4,
          "commitsBetweenForFile": 1,
          "actualSource": "    def play(self, asciicast, max_wait\u003dNone):\n        for delay, text in asciicast.stdout:\n            if max_wait and delay \u003e max_wait:\n                delay \u003d max_wait\n            time.sleep(delay)\n            sys.stdout.write(text)\n            sys.stdout.flush()",
          "path": "asciinema/player.py",
          "functionStartLine": 6,
          "functionName": "play",
          "functionAnnotation": "",
          "diff": "@@ -1,5 +1,7 @@\n-    def play(self, asciicast):\n+    def play(self, asciicast, max_wait\u003dNone):\n         for delay, text in asciicast.stdout:\n+            if max_wait and delay \u003e max_wait:\n+                delay \u003d max_wait\n             time.sleep(delay)\n             sys.stdout.write(text)\n             sys.stdout.flush()\n\\ No newline at end of file\n",
          "extendedDetails": {}
        }
      ]
    },
    "33a21aa2da853e2c6a38c7c7f9bd665240edc82f": {
      "type": "Yintroduced",
      "commitMessage": "Add play command\n",
      "commitDate": "2016/7/2 上午1:12",
      "commitName": "33a21aa2da853e2c6a38c7c7f9bd665240edc82f",
      "commitAuthor": "Marcin Kulik",
      "diff": "@@ -0,0 +1,5 @@\n+    def play(self, asciicast):\n+        for delay, text in asciicast.stdout:\n+            time.sleep(delay)\n+            sys.stdout.write(text)\n+            sys.stdout.flush()\n\\ No newline at end of file\n",
      "actualSource": "    def play(self, asciicast):\n        for delay, text in asciicast.stdout:\n            time.sleep(delay)\n            sys.stdout.write(text)\n            sys.stdout.flush()",
      "path": "asciinema/player.py",
      "functionStartLine": 6,
      "functionName": "play",
      "functionAnnotation": ""
    }
  }
}