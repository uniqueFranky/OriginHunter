{
  "origin": "codeshovel",
  "repositoryName": "hibernate-search",
  "repositoryPath": "/Users/franky/Documents/Homework/毕业设计/testcase/hibernate-search/.git",
  "startCommitName": "5b778035965d7588ad1d1ae522c4bafebd3a0e16",
  "sourceFileName": "DistanceQuery.java",
  "functionName": "matches",
  "functionId": "matches",
  "sourceFilePath": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceQuery.java",
  "functionAnnotation": "@Override",
  "functionDoc": "",
  "functionStartLine": 156,
  "functionEndLine": 167,
  "numCommitsSeen": 32,
  "timeTaken": 1684,
  "changeHistory": [
    "991b9e7244fd848ab1806d42fd511e5e27d4ea29",
    "57f2d295ae6825c076a2b1727209b6b25b45edda",
    "939270e6c42f1558c2a0469699ab10167a3797c5",
    "c426c745258628f795a31c2f23cdf6323f650e83",
    "539aeb1fba3570d8e2b6f6870191256a6bcd6a15",
    "354f2cadec6dee7d4dde2250e13f468e2d93cd27",
    "86c3e92db95c1f8512a65e7a59bc3bec07158832",
    "526d8cb0e93012fdca881f6c8a104ebaf086752d",
    "c45fbb6b6cfa5ac5bfb995267761aedff19d4b9b",
    "b569d66ddca5855b5ee9811171ed34a48544cad6"
  ],
  "changeHistoryShort": {
    "991b9e7244fd848ab1806d42fd511e5e27d4ea29": "Ymultichange(Ymovefromfile,Ymodifierchange,Yexceptionschange,Ybodychange,Yrename,Yparameterchange)",
    "57f2d295ae6825c076a2b1727209b6b25b45edda": "Ybodychange",
    "939270e6c42f1558c2a0469699ab10167a3797c5": "Ybodychange",
    "c426c745258628f795a31c2f23cdf6323f650e83": "Ybodychange",
    "539aeb1fba3570d8e2b6f6870191256a6bcd6a15": "Ybodychange",
    "354f2cadec6dee7d4dde2250e13f468e2d93cd27": "Yfilerename",
    "86c3e92db95c1f8512a65e7a59bc3bec07158832": "Ybodychange",
    "526d8cb0e93012fdca881f6c8a104ebaf086752d": "Ybodychange",
    "c45fbb6b6cfa5ac5bfb995267761aedff19d4b9b": "Yfilerename",
    "b569d66ddca5855b5ee9811171ed34a48544cad6": "Yintroduced"
  },
  "changeHistoryDetails": {
    "991b9e7244fd848ab1806d42fd511e5e27d4ea29": {
      "type": "Ymultichange(Ymovefromfile,Ymodifierchange,Yexceptionschange,Ybodychange,Yrename,Yparameterchange)",
      "commitMessage": "HSEARCH-2208 Use Query objects instead of Filters in spatial search\n",
      "commitDate": "2017/5/9 下午7:32",
      "commitName": "991b9e7244fd848ab1806d42fd511e5e27d4ea29",
      "commitAuthor": "Yoann Rodière",
      "subchanges": [
        {
          "type": "Ymovefromfile",
          "commitMessage": "HSEARCH-2208 Use Query objects instead of Filters in spatial search\n",
          "commitDate": "2017/5/9 下午7:32",
          "commitName": "991b9e7244fd848ab1806d42fd511e5e27d4ea29",
          "commitAuthor": "Yoann Rodière",
          "commitDateOld": "2017/5/9 下午7:32",
          "commitNameOld": "08413b5986ba2e7291426fa68906c222e4c731bc",
          "commitAuthorOld": "Yoann Rodière",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "actualSource": "@Override\npublic boolean matches() throws IOException {\n    lazyInit();\n    int docID \u003d approximation().docID();\n    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n        double lat \u003d coordinate(latitudeValues, docID);\n        double lon \u003d coordinate(longitudeValues, docID);\n        if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n            return true;\n        }\n    }\n    return false;\n}",
          "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceQuery.java",
          "functionStartLine": 161,
          "functionName": "matches",
          "functionAnnotation": "@Override",
          "functionDoc": "",
          "diff": "@@ -1,11 +1,13 @@\n @Override\n-protected boolean match(int documentIndex) {\n-    if (docsWithLatitude.get(documentIndex) \u0026\u0026 docsWithLongitude.get(documentIndex)) {\n-        double lat \u003d coordinate(latitudeValues, documentIndex);\n-        double lon \u003d coordinate(longitudeValues, documentIndex);\n+public boolean matches() throws IOException {\n+    lazyInit();\n+    int docID \u003d approximation().docID();\n+    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n+        double lat \u003d coordinate(latitudeValues, docID);\n+        double lon \u003d coordinate(longitudeValues, docID);\n         if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n             return true;\n         }\n     }\n     return false;\n }\n\\ No newline at end of file\n",
          "extendedDetails": {
            "oldPath": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java",
            "newPath": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceQuery.java",
            "oldMethodName": "match",
            "newMethodName": "matches"
          }
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "HSEARCH-2208 Use Query objects instead of Filters in spatial search\n",
          "commitDate": "2017/5/9 下午7:32",
          "commitName": "991b9e7244fd848ab1806d42fd511e5e27d4ea29",
          "commitAuthor": "Yoann Rodière",
          "commitDateOld": "2017/5/9 下午7:32",
          "commitNameOld": "08413b5986ba2e7291426fa68906c222e4c731bc",
          "commitAuthorOld": "Yoann Rodière",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "actualSource": "@Override\npublic boolean matches() throws IOException {\n    lazyInit();\n    int docID \u003d approximation().docID();\n    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n        double lat \u003d coordinate(latitudeValues, docID);\n        double lon \u003d coordinate(longitudeValues, docID);\n        if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n            return true;\n        }\n    }\n    return false;\n}",
          "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceQuery.java",
          "functionStartLine": 161,
          "functionName": "matches",
          "functionAnnotation": "@Override",
          "functionDoc": "",
          "diff": "@@ -1,11 +1,13 @@\n @Override\n-protected boolean match(int documentIndex) {\n-    if (docsWithLatitude.get(documentIndex) \u0026\u0026 docsWithLongitude.get(documentIndex)) {\n-        double lat \u003d coordinate(latitudeValues, documentIndex);\n-        double lon \u003d coordinate(longitudeValues, documentIndex);\n+public boolean matches() throws IOException {\n+    lazyInit();\n+    int docID \u003d approximation().docID();\n+    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n+        double lat \u003d coordinate(latitudeValues, docID);\n+        double lon \u003d coordinate(longitudeValues, docID);\n         if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n             return true;\n         }\n     }\n     return false;\n }\n\\ No newline at end of file\n",
          "extendedDetails": {
            "oldValue": "[protected]",
            "newValue": "[public]"
          }
        },
        {
          "type": "Yexceptionschange",
          "commitMessage": "HSEARCH-2208 Use Query objects instead of Filters in spatial search\n",
          "commitDate": "2017/5/9 下午7:32",
          "commitName": "991b9e7244fd848ab1806d42fd511e5e27d4ea29",
          "commitAuthor": "Yoann Rodière",
          "commitDateOld": "2017/5/9 下午7:32",
          "commitNameOld": "08413b5986ba2e7291426fa68906c222e4c731bc",
          "commitAuthorOld": "Yoann Rodière",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "actualSource": "@Override\npublic boolean matches() throws IOException {\n    lazyInit();\n    int docID \u003d approximation().docID();\n    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n        double lat \u003d coordinate(latitudeValues, docID);\n        double lon \u003d coordinate(longitudeValues, docID);\n        if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n            return true;\n        }\n    }\n    return false;\n}",
          "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceQuery.java",
          "functionStartLine": 161,
          "functionName": "matches",
          "functionAnnotation": "@Override",
          "functionDoc": "",
          "diff": "@@ -1,11 +1,13 @@\n @Override\n-protected boolean match(int documentIndex) {\n-    if (docsWithLatitude.get(documentIndex) \u0026\u0026 docsWithLongitude.get(documentIndex)) {\n-        double lat \u003d coordinate(latitudeValues, documentIndex);\n-        double lon \u003d coordinate(longitudeValues, documentIndex);\n+public boolean matches() throws IOException {\n+    lazyInit();\n+    int docID \u003d approximation().docID();\n+    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n+        double lat \u003d coordinate(latitudeValues, docID);\n+        double lon \u003d coordinate(longitudeValues, docID);\n         if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n             return true;\n         }\n     }\n     return false;\n }\n\\ No newline at end of file\n",
          "extendedDetails": {
            "oldValue": "[]",
            "newValue": "[IOException]"
          }
        },
        {
          "type": "Ybodychange",
          "commitMessage": "HSEARCH-2208 Use Query objects instead of Filters in spatial search\n",
          "commitDate": "2017/5/9 下午7:32",
          "commitName": "991b9e7244fd848ab1806d42fd511e5e27d4ea29",
          "commitAuthor": "Yoann Rodière",
          "commitDateOld": "2017/5/9 下午7:32",
          "commitNameOld": "08413b5986ba2e7291426fa68906c222e4c731bc",
          "commitAuthorOld": "Yoann Rodière",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "actualSource": "@Override\npublic boolean matches() throws IOException {\n    lazyInit();\n    int docID \u003d approximation().docID();\n    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n        double lat \u003d coordinate(latitudeValues, docID);\n        double lon \u003d coordinate(longitudeValues, docID);\n        if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n            return true;\n        }\n    }\n    return false;\n}",
          "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceQuery.java",
          "functionStartLine": 161,
          "functionName": "matches",
          "functionAnnotation": "@Override",
          "functionDoc": "",
          "diff": "@@ -1,11 +1,13 @@\n @Override\n-protected boolean match(int documentIndex) {\n-    if (docsWithLatitude.get(documentIndex) \u0026\u0026 docsWithLongitude.get(documentIndex)) {\n-        double lat \u003d coordinate(latitudeValues, documentIndex);\n-        double lon \u003d coordinate(longitudeValues, documentIndex);\n+public boolean matches() throws IOException {\n+    lazyInit();\n+    int docID \u003d approximation().docID();\n+    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n+        double lat \u003d coordinate(latitudeValues, docID);\n+        double lon \u003d coordinate(longitudeValues, docID);\n         if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n             return true;\n         }\n     }\n     return false;\n }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Yrename",
          "commitMessage": "HSEARCH-2208 Use Query objects instead of Filters in spatial search\n",
          "commitDate": "2017/5/9 下午7:32",
          "commitName": "991b9e7244fd848ab1806d42fd511e5e27d4ea29",
          "commitAuthor": "Yoann Rodière",
          "commitDateOld": "2017/5/9 下午7:32",
          "commitNameOld": "08413b5986ba2e7291426fa68906c222e4c731bc",
          "commitAuthorOld": "Yoann Rodière",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "actualSource": "@Override\npublic boolean matches() throws IOException {\n    lazyInit();\n    int docID \u003d approximation().docID();\n    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n        double lat \u003d coordinate(latitudeValues, docID);\n        double lon \u003d coordinate(longitudeValues, docID);\n        if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n            return true;\n        }\n    }\n    return false;\n}",
          "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceQuery.java",
          "functionStartLine": 161,
          "functionName": "matches",
          "functionAnnotation": "@Override",
          "functionDoc": "",
          "diff": "@@ -1,11 +1,13 @@\n @Override\n-protected boolean match(int documentIndex) {\n-    if (docsWithLatitude.get(documentIndex) \u0026\u0026 docsWithLongitude.get(documentIndex)) {\n-        double lat \u003d coordinate(latitudeValues, documentIndex);\n-        double lon \u003d coordinate(longitudeValues, documentIndex);\n+public boolean matches() throws IOException {\n+    lazyInit();\n+    int docID \u003d approximation().docID();\n+    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n+        double lat \u003d coordinate(latitudeValues, docID);\n+        double lon \u003d coordinate(longitudeValues, docID);\n         if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n             return true;\n         }\n     }\n     return false;\n }\n\\ No newline at end of file\n",
          "extendedDetails": {
            "oldValue": "match",
            "newValue": "matches"
          }
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "HSEARCH-2208 Use Query objects instead of Filters in spatial search\n",
          "commitDate": "2017/5/9 下午7:32",
          "commitName": "991b9e7244fd848ab1806d42fd511e5e27d4ea29",
          "commitAuthor": "Yoann Rodière",
          "commitDateOld": "2017/5/9 下午7:32",
          "commitNameOld": "08413b5986ba2e7291426fa68906c222e4c731bc",
          "commitAuthorOld": "Yoann Rodière",
          "daysBetweenCommits": 0.0,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "actualSource": "@Override\npublic boolean matches() throws IOException {\n    lazyInit();\n    int docID \u003d approximation().docID();\n    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n        double lat \u003d coordinate(latitudeValues, docID);\n        double lon \u003d coordinate(longitudeValues, docID);\n        if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n            return true;\n        }\n    }\n    return false;\n}",
          "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceQuery.java",
          "functionStartLine": 161,
          "functionName": "matches",
          "functionAnnotation": "@Override",
          "functionDoc": "",
          "diff": "@@ -1,11 +1,13 @@\n @Override\n-protected boolean match(int documentIndex) {\n-    if (docsWithLatitude.get(documentIndex) \u0026\u0026 docsWithLongitude.get(documentIndex)) {\n-        double lat \u003d coordinate(latitudeValues, documentIndex);\n-        double lon \u003d coordinate(longitudeValues, documentIndex);\n+public boolean matches() throws IOException {\n+    lazyInit();\n+    int docID \u003d approximation().docID();\n+    if (docsWithLatitude.get(docID) \u0026\u0026 docsWithLongitude.get(docID)) {\n+        double lat \u003d coordinate(latitudeValues, docID);\n+        double lon \u003d coordinate(longitudeValues, docID);\n         if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n             return true;\n         }\n     }\n     return false;\n }\n\\ No newline at end of file\n",
          "extendedDetails": {
            "oldValue": "[documentIndex-int]",
            "newValue": "[]"
          }
        }
      ]
    },
    "57f2d295ae6825c076a2b1727209b6b25b45edda": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-2324 Use Double.MAX_VALUE as the default distance (when missing the latitude and/or longitude) in spatial queries\n",
      "commitDate": "2016/11/29 上午7:40",
      "commitName": "57f2d295ae6825c076a2b1727209b6b25b45edda",
      "commitAuthor": "Yoann Rodière",
      "commitDateOld": "2016/11/29 上午7:35",
      "commitNameOld": "62734df875ca07b09a0ee19092f7f0b0a0b0ba80",
      "commitAuthorOld": "Yoann Rodière",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 94,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nprotected boolean match(int documentIndex) {\n    if (docsWithLatitude.get(documentIndex) \u0026\u0026 docsWithLongitude.get(documentIndex)) {\n        double lat \u003d coordinate(latitudeValues, documentIndex);\n        double lon \u003d coordinate(longitudeValues, documentIndex);\n        if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n            return true;\n        }\n    }\n    return false;\n}",
      "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java",
      "functionStartLine": 116,
      "functionName": "match",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "@@ -1,10 +1,11 @@\n @Override\n protected boolean match(int documentIndex) {\n-    double lat \u003d coordinate(latitudeValues, documentIndex);\n-    double lon \u003d coordinate(longitudeValues, documentIndex);\n-    if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n-        return true;\n-    } else {\n-        return false;\n+    if (docsWithLatitude.get(documentIndex) \u0026\u0026 docsWithLongitude.get(documentIndex)) {\n+        double lat \u003d coordinate(latitudeValues, documentIndex);\n+        double lon \u003d coordinate(longitudeValues, documentIndex);\n+        if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n+            return true;\n+        }\n     }\n+    return false;\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "939270e6c42f1558c2a0469699ab10167a3797c5": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-1708 Throw exception if DistanceSort is used on non-spatial fields\n",
      "commitDate": "2015/8/4 下午5:57",
      "commitName": "939270e6c42f1558c2a0469699ab10167a3797c5",
      "commitAuthor": "Davide D\u0027Alto",
      "commitDateOld": "2015/7/15 上午5:34",
      "commitNameOld": "b7f583ce2f6ca57ea938f1c80781e362222e3d04",
      "commitAuthorOld": "Nicolas Helleringer",
      "daysBetweenCommits": 20.52,
      "commitsBetweenForRepo": 50,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nprotected boolean match(int documentIndex) {\n    double lat \u003d coordinate(latitudeValues, documentIndex);\n    double lon \u003d coordinate(longitudeValues, documentIndex);\n    if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n        return true;\n    } else {\n        return false;\n    }\n}",
      "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java",
      "functionStartLine": 109,
      "functionName": "match",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "@@ -1,10 +1,10 @@\n @Override\n protected boolean match(int documentIndex) {\n-    double lat \u003d Double.longBitsToDouble(latitudeValues.get(documentIndex));\n-    double lon \u003d Double.longBitsToDouble(longitudeValues.get(documentIndex));\n+    double lat \u003d coordinate(latitudeValues, documentIndex);\n+    double lon \u003d coordinate(longitudeValues, documentIndex);\n     if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n         return true;\n     } else {\n         return false;\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "c426c745258628f795a31c2f23cdf6323f650e83": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-1910 Use NumericDocValues instead of FieldCache for spatials\n",
      "commitDate": "2015/7/3 上午12:48",
      "commitName": "c426c745258628f795a31c2f23cdf6323f650e83",
      "commitAuthor": "Davide D\u0027Alto",
      "commitDateOld": "2014/5/15 下午5:54",
      "commitNameOld": "5a9396f82246f74a76d3fea15d712711662f11ec",
      "commitAuthorOld": "Hardy Ferentschik",
      "daysBetweenCommits": 413.29,
      "commitsBetweenForRepo": 520,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nprotected boolean match(int documentIndex) {\n    double lat \u003d Double.longBitsToDouble(latitudeValues.get(documentIndex));\n    double lon \u003d Double.longBitsToDouble(longitudeValues.get(documentIndex));\n    if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n        return true;\n    } else {\n        return false;\n    }\n}",
      "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java",
      "functionStartLine": 107,
      "functionName": "match",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "@@ -1,8 +1,10 @@\n @Override\n protected boolean match(int documentIndex) {\n-    if (center.getDistanceTo(latitudeValues.get(documentIndex), longitudeValues.get(documentIndex)) \u003c\u003d radius) {\n+    double lat \u003d Double.longBitsToDouble(latitudeValues.get(documentIndex));\n+    double lon \u003d Double.longBitsToDouble(longitudeValues.get(documentIndex));\n+    if (center.getDistanceTo(lat, lon) \u003c\u003d radius) {\n         return true;\n     } else {\n         return false;\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "539aeb1fba3570d8e2b6f6870191256a6bcd6a15": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-1191 Refactor Spatial DistanceFilter to use the new FieldCache API\n",
      "commitDate": "2014/2/3 上午8:39",
      "commitName": "539aeb1fba3570d8e2b6f6870191256a6bcd6a15",
      "commitAuthor": "Sanne Grinovero",
      "commitDateOld": "2014/2/3 上午8:39",
      "commitNameOld": "0384708fd87479dc7549556afde58462ca29c346",
      "commitAuthorOld": "Sanne Grinovero",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 7,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nprotected boolean match(int documentIndex) {\n    if (center.getDistanceTo(latitudeValues.get(documentIndex), longitudeValues.get(documentIndex)) \u003c\u003d radius) {\n        return true;\n    } else {\n        return false;\n    }\n}",
      "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java",
      "functionStartLine": 121,
      "functionName": "match",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "@@ -1,8 +1,8 @@\n @Override\n protected boolean match(int documentIndex) {\n-    if (center.getDistanceTo(latitudeValues[documentIndex], longitudeValues[documentIndex]) \u003c\u003d radius) {\n+    if (center.getDistanceTo(latitudeValues.get(documentIndex), longitudeValues.get(documentIndex)) \u003c\u003d radius) {\n         return true;\n     } else {\n         return false;\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "354f2cadec6dee7d4dde2250e13f468e2d93cd27": {
      "type": "Yfilerename",
      "commitMessage": "HSEARCH-1310 Dropping the hibernate-search directory prefix, renaming hibernate-search into legacy\n",
      "commitDate": "2013/4/24 上午1:02",
      "commitName": "354f2cadec6dee7d4dde2250e13f468e2d93cd27",
      "commitAuthor": "Hardy Ferentschik",
      "commitDateOld": "2013/4/23 下午9:27",
      "commitNameOld": "29a168b99657e8cc302bbb487a67a4ea3856c3a3",
      "commitAuthorOld": "Sanne Grinovero",
      "daysBetweenCommits": 0.15,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nprotected boolean match(int documentIndex) {\n    if (center.getDistanceTo(latitudeValues[documentIndex], longitudeValues[documentIndex]) \u003c\u003d radius) {\n        return true;\n    } else {\n        return false;\n    }\n}",
      "path": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java",
      "functionStartLine": 117,
      "functionName": "match",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "",
      "extendedDetails": {
        "oldPath": "hibernate-search-engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java",
        "newPath": "engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java"
      }
    },
    "86c3e92db95c1f8512a65e7a59bc3bec07158832": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-1174 HSEARCH-1175 Sort by spatial distance \u0026 Distance projection after spatial enabled search\n",
      "commitDate": "2012/10/12 上午12:39",
      "commitName": "86c3e92db95c1f8512a65e7a59bc3bec07158832",
      "commitAuthor": "Nicolas Helleringer",
      "commitDateOld": "2012/6/21 下午8:15",
      "commitNameOld": "6c2b245872fdce922e1d8cefceffe97c1139e6f1",
      "commitAuthorOld": "Emmanuel Bernard",
      "daysBetweenCommits": 112.18,
      "commitsBetweenForRepo": 58,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nprotected boolean match(int documentIndex) {\n    if (center.getDistanceTo(latitudeValues[documentIndex], longitudeValues[documentIndex]) \u003c\u003d radius) {\n        return true;\n    } else {\n        return false;\n    }\n}",
      "path": "hibernate-search-engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java",
      "functionStartLine": 119,
      "functionName": "match",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "@@ -1,10 +1,8 @@\n @Override\n protected boolean match(int documentIndex) {\n-    double documentDistance;\n-    documentDistance \u003d center.getDistanceTo(latitudeValues[documentIndex], longitudeValues[documentIndex]);\n-    if (documentDistance \u003c\u003d radius) {\n+    if (center.getDistanceTo(latitudeValues[documentIndex], longitudeValues[documentIndex]) \u003c\u003d radius) {\n         return true;\n     } else {\n         return false;\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "526d8cb0e93012fdca881f6c8a104ebaf086752d": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-923 Avoid create an useless Point object at each document check\n\nAdded a getDistanceTo from latitude+longitude to Point\nExtracted latitude and longitude normalization methods from constructor\n",
      "commitDate": "2012/6/21 下午8:15",
      "commitName": "526d8cb0e93012fdca881f6c8a104ebaf086752d",
      "commitAuthor": "Nicolas Helleringer",
      "commitDateOld": "2012/6/21 下午8:15",
      "commitNameOld": "afd8aaf584aad80b14589a46ab33fc595ca2c042",
      "commitAuthorOld": "Emmanuel Bernard",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 29,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nprotected boolean match(int documentIndex) {\n    double documentDistance;\n    documentDistance \u003d center.getDistanceTo(latitudeValues[documentIndex], longitudeValues[documentIndex]);\n    if (documentDistance \u003c\u003d radius) {\n        return true;\n    } else {\n        return false;\n    }\n}",
      "path": "hibernate-search-engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java",
      "functionStartLine": 118,
      "functionName": "match",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "@@ -1,11 +1,10 @@\n @Override\n protected boolean match(int documentIndex) {\n-    Double documentDistance;\n-    Point documentPosition \u003d Point.fromDegrees(latitudeValues[documentIndex], longitudeValues[documentIndex]);\n-    documentDistance \u003d documentPosition.getDistanceTo(center);\n+    double documentDistance;\n+    documentDistance \u003d center.getDistanceTo(latitudeValues[documentIndex], longitudeValues[documentIndex]);\n     if (documentDistance \u003c\u003d radius) {\n         return true;\n     } else {\n         return false;\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "c45fbb6b6cfa5ac5bfb995267761aedff19d4b9b": {
      "type": "Yfilerename",
      "commitMessage": "HSEARCH-923 Move private classes of spatial in .impl package\n",
      "commitDate": "2012/6/21 下午8:09",
      "commitName": "c45fbb6b6cfa5ac5bfb995267761aedff19d4b9b",
      "commitAuthor": "Emmanuel Bernard",
      "commitDateOld": "2012/6/21 下午8:09",
      "commitNameOld": "b84beccaa4d29c276f5386a966e37e9ea9ec2254",
      "commitAuthorOld": "Emmanuel Bernard",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\nprotected boolean match(int documentIndex) {\n    Double documentDistance;\n    Point documentPosition \u003d Point.fromDegrees(latitudeValues[documentIndex], longitudeValues[documentIndex]);\n    documentDistance \u003d documentPosition.getDistanceTo(center);\n    if (documentDistance \u003c\u003d radius) {\n        return true;\n    } else {\n        return false;\n    }\n}",
      "path": "hibernate-search-engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java",
      "functionStartLine": 91,
      "functionName": "match",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "",
      "extendedDetails": {
        "oldPath": "hibernate-search-engine/src/main/java/org/hibernate/search/spatial/DistanceFilter.java",
        "newPath": "hibernate-search-engine/src/main/java/org/hibernate/search/spatial/impl/DistanceFilter.java"
      }
    },
    "b569d66ddca5855b5ee9811171ed34a48544cad6": {
      "type": "Yintroduced",
      "commitMessage": "HSEARCH-923 Import work from Novacodex into Hibernate Search codebase\n\nTests are unfortunately in the orm package as they use Hibernate Core as an event source\n",
      "commitDate": "2012/6/21 下午8:09",
      "commitName": "b569d66ddca5855b5ee9811171ed34a48544cad6",
      "commitAuthor": "Emmanuel Bernard",
      "diff": "@@ -0,0 +1,11 @@\n+@Override\n+protected boolean match(int documentIndex) {\n+    Double documentDistance;\n+    Point documentPosition \u003d Point.fromDegrees(latitudeValues[documentIndex], longitudeValues[documentIndex]);\n+    documentDistance \u003d documentPosition.getDistanceTo(center);\n+    if (documentDistance \u003c\u003d radius) {\n+        return true;\n+    } else {\n+        return false;\n+    }\n+}\n\\ No newline at end of file\n",
      "actualSource": "@Override\nprotected boolean match(int documentIndex) {\n    Double documentDistance;\n    Point documentPosition \u003d Point.fromDegrees(latitudeValues[documentIndex], longitudeValues[documentIndex]);\n    documentDistance \u003d documentPosition.getDistanceTo(center);\n    if (documentDistance \u003c\u003d radius) {\n        return true;\n    } else {\n        return false;\n    }\n}",
      "path": "hibernate-search-engine/src/main/java/org/hibernate/search/spatial/DistanceFilter.java",
      "functionStartLine": 91,
      "functionName": "match",
      "functionAnnotation": "@Override",
      "functionDoc": ""
    }
  }
}