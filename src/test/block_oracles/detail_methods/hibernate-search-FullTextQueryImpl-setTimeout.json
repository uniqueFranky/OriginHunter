{
  "origin": "codeshovel",
  "repositoryName": "hibernate-search",
  "repositoryPath": "/Users/franky/Documents/Homework/毕业设计/testcase/hibernate-search/.git",
  "startCommitName": "5b778035965d7588ad1d1ae522c4bafebd3a0e16",
  "sourceFileName": "FullTextQueryImpl.java",
  "functionName": "setTimeout",
  "functionId": "setTimeout___timeout-long__timeUnit-TimeUnit",
  "sourceFilePath": "orm/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java",
  "functionAnnotation": "@Override",
  "functionDoc": "",
  "functionStartLine": 559,
  "functionEndLine": 564,
  "numCommitsSeen": 84,
  "timeTaken": 999,
  "changeHistory": [
    "38fc9b864e6a279eccb84a15c14002dce61df4fa",
    "2f45e686199bf9f20f354e1c953018eb0ebb934a",
    "354f2cadec6dee7d4dde2250e13f468e2d93cd27",
    "46186ad2bdda3c84dd58a641ed93e1b1203bdc89",
    "dc3a4d26f215331ac43e3bf779a25b8476e42c59",
    "e6fd51e42f176e3661a251a4acd57925ac3a657f",
    "6454e7ddc7b5c19ffabe140d41faaec1af5fec0c"
  ],
  "changeHistoryShort": {
    "38fc9b864e6a279eccb84a15c14002dce61df4fa": "Yreturntypechange",
    "2f45e686199bf9f20f354e1c953018eb0ebb934a": "Yannotationchange",
    "354f2cadec6dee7d4dde2250e13f468e2d93cd27": "Yfilerename",
    "46186ad2bdda3c84dd58a641ed93e1b1203bdc89": "Yfilerename",
    "dc3a4d26f215331ac43e3bf779a25b8476e42c59": "Yfilerename",
    "e6fd51e42f176e3661a251a4acd57925ac3a657f": "Ybodychange",
    "6454e7ddc7b5c19ffabe140d41faaec1af5fec0c": "Ybodychange"
  },
  "changeHistoryDetails": {
    "38fc9b864e6a279eccb84a15c14002dce61df4fa": {
      "type": "Yreturntypechange",
      "commitMessage": "HSEARCH-2382 Merge the JPA and Hibernate-native FullTextQuery implementations\n\nThis doesn\u0027t change the interfaces, but may change the exception\nhandling.\n\nWhy? Hibernate ORM and JPA haven\u0027t always had consistent behaviors, but\nit used not to matter because there were different APIs that could be\nimplemented differently anyway. Now that the two implementations are\nmerged, there has some choice to be made, and unfortunately this hasn\u0027t\nbeen done in a fully consistent way in Hibernate ORM.\n\nHere are some quirks in Hibernate ORM:\n\n * Some JPA methods behave according to the JPA spec, unless Hibernate\nwas booted using its native booting mode\n(getProducer().getFactory().getSessionFactoryOptions().isJpaBootstrap()\nreturns false), in which case they may throw Hibernate exceptions.\nThis is the case for getSingleResult() in particular.\n * Some Hibernate native methods behave according to the JPA spec,\nregardless of the booting mode. For instance list() will always convert\nHibernate exceptions to JPA ones.\n\nWith that in mind, it\u0027s not easy to find a consistent behavior for our\nown methods.\n\nHere are some rules I followed:\n\n * For methods that were already implemented in Hibernate ORM, and whose\nimplementation was suitable for Hibernate Search, I just delegated to the\nHibernate ORM implementation and didn\u0027t override anything.\n * For methods that we have to re-implement in Hibernate Search (e.g.\nlist()), I replicated the exact same exception handling and delegated to\nHibernate ORM when possible (e.g. for exception conversion), even if we\nused to have our own exception conversion code. That\u0027s because I suspect\nthis code had been copied over from an older Hibernate ORM\nimplementation.\n * For Hibernate Search-specific methods that used to have different\nbehaviors in the native and JPA implementations, I tried to favor the\nJPA behavior regardless of the booting mode. For instance getResultSize()\nwill throw JPA exceptions, not native ones. If we must break stuff, we\nmay as well do it in a standard way.\n",
      "commitDate": "2017/4/13 下午7:17",
      "commitName": "38fc9b864e6a279eccb84a15c14002dce61df4fa",
      "commitAuthor": "Yoann Rodière",
      "commitDateOld": "2017/2/20 下午9:53",
      "commitNameOld": "02f801bccd18a8a1c1457f8238d8d281125b24f8",
      "commitAuthorOld": "Yoann Rodière",
      "daysBetweenCommits": 51.89,
      "commitsBetweenForRepo": 134,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\npublic FullTextQueryImpl setTimeout(long timeout, TimeUnit timeUnit) {\n    super.setTimeout((int) timeUnit.toSeconds(timeout));\n    hSearchQuery.getTimeoutManager().setTimeout(timeout, timeUnit);\n    hSearchQuery.getTimeoutManager().raiseExceptionOnTimeout();\n    return this;\n}",
      "path": "orm/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java",
      "functionStartLine": 550,
      "functionName": "setTimeout",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "@@ -1,7 +1,7 @@\n @Override\n-public FullTextQuery setTimeout(long timeout, TimeUnit timeUnit) {\n+public FullTextQueryImpl setTimeout(long timeout, TimeUnit timeUnit) {\n     super.setTimeout((int) timeUnit.toSeconds(timeout));\n     hSearchQuery.getTimeoutManager().setTimeout(timeout, timeUnit);\n     hSearchQuery.getTimeoutManager().raiseExceptionOnTimeout();\n     return this;\n }\n\\ No newline at end of file\n",
      "extendedDetails": {
        "oldValue": "FullTextQuery",
        "newValue": "FullTextQueryImpl"
      }
    },
    "2f45e686199bf9f20f354e1c953018eb0ebb934a": {
      "type": "Yannotationchange",
      "commitMessage": "HSEARCH-1387 Adding @Override annotation on methods inherited from\ninterfaces\n\nHibernate Search is now compiled with Java 6.",
      "commitDate": "2013/8/12 下午10:19",
      "commitName": "2f45e686199bf9f20f354e1c953018eb0ebb934a",
      "commitAuthor": "Guillaume Smet",
      "commitDateOld": "2013/7/10 上午12:57",
      "commitNameOld": "51fd40d11134317c069aeb306031fe0dc7bcb5c3",
      "commitAuthorOld": "Davide D\u0027Alto",
      "daysBetweenCommits": 33.89,
      "commitsBetweenForRepo": 42,
      "commitsBetweenForFile": 1,
      "actualSource": "@Override\npublic FullTextQuery setTimeout(long timeout, TimeUnit timeUnit) {\n    super.setTimeout((int) timeUnit.toSeconds(timeout));\n    hSearchQuery.getTimeoutManager().setTimeout(timeout, timeUnit);\n    hSearchQuery.getTimeoutManager().raiseExceptionOnTimeout();\n    return this;\n}",
      "path": "orm/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java",
      "functionStartLine": 353,
      "functionName": "setTimeout",
      "functionAnnotation": "@Override",
      "functionDoc": "",
      "diff": "@@ -1,6 +1,7 @@\n+@Override\n public FullTextQuery setTimeout(long timeout, TimeUnit timeUnit) {\n     super.setTimeout((int) timeUnit.toSeconds(timeout));\n     hSearchQuery.getTimeoutManager().setTimeout(timeout, timeUnit);\n     hSearchQuery.getTimeoutManager().raiseExceptionOnTimeout();\n     return this;\n }\n\\ No newline at end of file\n",
      "extendedDetails": {
        "oldValue": "",
        "newValue": "@Override"
      }
    },
    "354f2cadec6dee7d4dde2250e13f468e2d93cd27": {
      "type": "Yfilerename",
      "commitMessage": "HSEARCH-1310 Dropping the hibernate-search directory prefix, renaming hibernate-search into legacy\n",
      "commitDate": "2013/4/24 上午1:02",
      "commitName": "354f2cadec6dee7d4dde2250e13f468e2d93cd27",
      "commitAuthor": "Hardy Ferentschik",
      "commitDateOld": "2013/4/23 下午9:27",
      "commitNameOld": "29a168b99657e8cc302bbb487a67a4ea3856c3a3",
      "commitAuthorOld": "Sanne Grinovero",
      "daysBetweenCommits": 0.15,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "public FullTextQuery setTimeout(long timeout, TimeUnit timeUnit) {\n    super.setTimeout((int) timeUnit.toSeconds(timeout));\n    hSearchQuery.getTimeoutManager().setTimeout(timeout, timeUnit);\n    hSearchQuery.getTimeoutManager().raiseExceptionOnTimeout();\n    return this;\n}",
      "path": "orm/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java",
      "functionStartLine": 331,
      "functionName": "setTimeout",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "",
      "extendedDetails": {
        "oldPath": "hibernate-search-orm/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java",
        "newPath": "orm/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java"
      }
    },
    "46186ad2bdda3c84dd58a641ed93e1b1203bdc89": {
      "type": "Yfilerename",
      "commitMessage": "HSEARCH-677 removing files, adapting pom.xml\n",
      "commitDate": "2011/9/26 下午4:40",
      "commitName": "46186ad2bdda3c84dd58a641ed93e1b1203bdc89",
      "commitAuthor": "Sanne Grinovero",
      "commitDateOld": "2011/9/23 上午12:08",
      "commitNameOld": "33627c651cc0081b02c8c66031ebfc27cc228809",
      "commitAuthorOld": "Hardy Ferentschik",
      "daysBetweenCommits": 3.69,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "public FullTextQuery setTimeout(long timeout, TimeUnit timeUnit) {\n    super.setTimeout((int) timeUnit.toSeconds(timeout));\n    hSearchQuery.getTimeoutManager().setTimeout(timeout, timeUnit);\n    hSearchQuery.getTimeoutManager().raiseExceptionOnTimeout();\n    return this;\n}",
      "path": "hibernate-search-orm/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java",
      "functionStartLine": 318,
      "functionName": "setTimeout",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "",
      "extendedDetails": {
        "oldPath": "hibernate-search/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java",
        "newPath": "hibernate-search-orm/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java"
      }
    },
    "dc3a4d26f215331ac43e3bf779a25b8476e42c59": {
      "type": "Yfilerename",
      "commitMessage": "HSEARCH-687 move Hibernate specific impls to hibernate.impl",
      "commitDate": "2011/3/4 上午2:39",
      "commitName": "dc3a4d26f215331ac43e3bf779a25b8476e42c59",
      "commitAuthor": "Emmanuel Bernard",
      "commitDateOld": "2011/3/4 上午2:31",
      "commitNameOld": "ce58bb10a58aa3bed46d4a53e7ad58880d444ceb",
      "commitAuthorOld": "Emmanuel Bernard",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "public FullTextQuery setTimeout(long timeout, TimeUnit timeUnit) {\n    super.setTimeout((int) timeUnit.toSeconds(timeout));\n    hSearchQuery.getTimeoutManager().setTimeout(timeout, timeUnit);\n    hSearchQuery.getTimeoutManager().raiseExceptionOnTimeout();\n    return this;\n}",
      "path": "hibernate-search/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java",
      "functionStartLine": 305,
      "functionName": "setTimeout",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "",
      "extendedDetails": {
        "oldPath": "hibernate-search/src/main/java/org/hibernate/search/query/FullTextQueryImpl.java",
        "newPath": "hibernate-search/src/main/java/org/hibernate/search/query/hibernate/impl/FullTextQueryImpl.java"
      }
    },
    "e6fd51e42f176e3661a251a4acd57925ac3a657f": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-687 Separate core of search engine from Hibernate Core specifics\n",
      "commitDate": "2011/3/3 下午9:10",
      "commitName": "e6fd51e42f176e3661a251a4acd57925ac3a657f",
      "commitAuthor": "Emmanuel Bernard",
      "commitDateOld": "2011/2/22 上午2:18",
      "commitNameOld": "8b06ac18c1a5b5641e350272c4d4369086e042d3",
      "commitAuthorOld": "Sanne Grinovero",
      "daysBetweenCommits": 9.79,
      "commitsBetweenForRepo": 16,
      "commitsBetweenForFile": 1,
      "actualSource": "public FullTextQuery setTimeout(long timeout, TimeUnit timeUnit) {\n    super.setTimeout((int) timeUnit.toSeconds(timeout));\n    hSearchQuery.getTimeoutManager().setTimeout(timeout, timeUnit);\n    hSearchQuery.getTimeoutManager().raiseExceptionOnTimeout();\n    return this;\n}",
      "path": "hibernate-search/src/main/java/org/hibernate/search/query/FullTextQueryImpl.java",
      "functionStartLine": 331,
      "functionName": "setTimeout",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,6 +1,6 @@\n public FullTextQuery setTimeout(long timeout, TimeUnit timeUnit) {\n     super.setTimeout((int) timeUnit.toSeconds(timeout));\n-    timeoutManager.setTimeout(timeout, timeUnit);\n-    timeoutManager.raiseExceptionOnTimeout();\n+    hSearchQuery.getTimeoutManager().setTimeout(timeout, timeUnit);\n+    hSearchQuery.getTimeoutManager().raiseExceptionOnTimeout();\n     return this;\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "6454e7ddc7b5c19ffabe140d41faaec1af5fec0c": {
      "type": "Ybodychange",
      "commitMessage": "HSEARCH-615 expose ways to limit results based on time\n\nFor now, setTimeout and fetching limit are mutually exclusive\n",
      "commitDate": "2010/11/6 上午12:01",
      "commitName": "6454e7ddc7b5c19ffabe140d41faaec1af5fec0c",
      "commitAuthor": "Emmanuel Bernard",
      "commitDateOld": "2010/11/6 上午12:01",
      "commitNameOld": "6ad2ba256e8f13e8025899e09bafd3d30e5b491d",
      "commitAuthorOld": "Emmanuel Bernard",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "public FullTextQuery setTimeout(long timeout, TimeUnit timeUnit) {\n    super.setTimeout((int) timeUnit.toSeconds(timeout));\n    timeoutManager.setTimeout(timeout, timeUnit);\n    timeoutManager.raiseExceptionOnTimeout();\n    return this;\n}",
      "path": "hibernate-search/src/main/java/org/hibernate/search/query/FullTextQueryImpl.java",
      "functionStartLine": 976,
      "functionName": "setTimeout",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,5 +1,6 @@\n public FullTextQuery setTimeout(long timeout, TimeUnit timeUnit) {\n     super.setTimeout((int) timeUnit.toSeconds(timeout));\n     timeoutManager.setTimeout(timeout, timeUnit);\n+    timeoutManager.raiseExceptionOnTimeout();\n     return this;\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    }
  }
}