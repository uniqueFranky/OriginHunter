{
  "origin": "codeshovel",
  "repositoryName": "flask",
  "repositoryPath": "/Users/franky/Documents/Homework/毕业设计/testcase/flask/.git",
  "startCommitName": "1351d0a56580df36872b466eb245e7634c20dab5",
  "sourceFileName": "wrappers.py",
  "functionName": "_load_form_data",
  "functionId": "Request___load_form_data___self",
  "sourceFilePath": "src/flask/wrappers.py",
  "functionAnnotation": "",
  "functionStartLine": 87,
  "functionEndLine": 102,
  "numCommitsSeen": 75,
  "timeTaken": 553,
  "changeHistory": [
    "ca278a8694f42e569a6d9f7d71c669465019bf06",
    "025589ee766249652e2e097da05808fe64911ddc",
    "e97253e4c1a0380f0b70108e8f984b0d9b87ac11",
    "1df2788a8f29a1238cbdebd7fa59b0d6218995b5",
    "bafc13981002dee4610234c7c97ac176766181c1",
    "ac99cd33a827f0694d718dae5f2699430263ed7e",
    "3400b78db23fbd305cb11368946be1bf280e2696",
    "2e022cb2727cfa99355261f2c18d1e0fc56e82ee"
  ],
  "changeHistoryShort": {
    "ca278a8694f42e569a6d9f7d71c669465019bf06": "Yfilerename",
    "025589ee766249652e2e097da05808fe64911ddc": "Ybodychange",
    "e97253e4c1a0380f0b70108e8f984b0d9b87ac11": "Ybodychange",
    "1df2788a8f29a1238cbdebd7fa59b0d6218995b5": "Ybodychange",
    "bafc13981002dee4610234c7c97ac176766181c1": "Ybodychange",
    "ac99cd33a827f0694d718dae5f2699430263ed7e": "Ybodychange",
    "3400b78db23fbd305cb11368946be1bf280e2696": "Ybodychange",
    "2e022cb2727cfa99355261f2c18d1e0fc56e82ee": "Yintroduced"
  },
  "changeHistoryDetails": {
    "ca278a8694f42e569a6d9f7d71c669465019bf06": {
      "type": "Yfilerename",
      "commitMessage": "move to src directory\n",
      "commitDate": "2019/6/1 下午11:06",
      "commitName": "ca278a8694f42e569a6d9f7d71c669465019bf06",
      "commitAuthor": "David Lord",
      "commitDateOld": "2019/6/1 下午9:53",
      "commitNameOld": "09392e0348e22dcac63973dd25ac10afc90230dd",
      "commitAuthorOld": "David Lord",
      "daysBetweenCommits": 0.05,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "    def _load_form_data(self):\n        RequestBase._load_form_data(self)\n\n        # In debug mode we\u0027re replacing the files multidict with an ad-hoc\n        # subclass that raises a different error for key errors.\n        if (\n            current_app\n            and current_app.debug\n            and self.mimetype !\u003d \"multipart/form-data\"\n            and not self.files\n        ):\n            from .debughelpers import attach_enctype_error_multidict\n\n            attach_enctype_error_multidict(self)\n\n",
      "path": "src/flask/wrappers.py",
      "functionStartLine": 87,
      "functionName": "_load_form_data",
      "functionAnnotation": "",
      "diff": "",
      "extendedDetails": {
        "oldPath": "flask/wrappers.py",
        "newPath": "src/flask/wrappers.py"
      }
    },
    "025589ee766249652e2e097da05808fe64911ddc": {
      "type": "Ybodychange",
      "commitMessage": "Reformat with black\n\nhttps://github.com/python/black\n",
      "commitDate": "2019/5/7 上午4:28",
      "commitName": "025589ee766249652e2e097da05808fe64911ddc",
      "commitAuthor": "David Baumgold",
      "commitDateOld": "2018/4/11 上午2:17",
      "commitNameOld": "1ed756a5238f38163cd04b152975a7d4ea945c7e",
      "commitAuthorOld": "David Lord",
      "daysBetweenCommits": 391.09,
      "commitsBetweenForRepo": 185,
      "commitsBetweenForFile": 1,
      "actualSource": "    def _load_form_data(self):\n        RequestBase._load_form_data(self)\n\n        # In debug mode we\u0027re replacing the files multidict with an ad-hoc\n        # subclass that raises a different error for key errors.\n        if (\n            current_app\n            and current_app.debug\n            and self.mimetype !\u003d \"multipart/form-data\"\n            and not self.files\n        ):\n            from .debughelpers import attach_enctype_error_multidict\n\n            attach_enctype_error_multidict(self)\n\n",
      "path": "flask/wrappers.py",
      "functionStartLine": 168,
      "functionName": "_load_form_data",
      "functionAnnotation": "",
      "diff": "@@ -1,14 +1,15 @@\n     def _load_form_data(self):\n         RequestBase._load_form_data(self)\n \n         # In debug mode we\u0027re replacing the files multidict with an ad-hoc\n         # subclass that raises a different error for key errors.\n         if (\n             current_app\n             and current_app.debug\n-            and self.mimetype !\u003d \u0027multipart/form-data\u0027\n+            and self.mimetype !\u003d \"multipart/form-data\"\n             and not self.files\n         ):\n             from .debughelpers import attach_enctype_error_multidict\n+\n             attach_enctype_error_multidict(self)\n \n",
      "extendedDetails": {}
    },
    "e97253e4c1a0380f0b70108e8f984b0d9b87ac11": {
      "type": "Ybodychange",
      "commitMessage": "clean up JSON code and docs\n",
      "commitDate": "2017/6/5 上午2:44",
      "commitName": "e97253e4c1a0380f0b70108e8f984b0d9b87ac11",
      "commitAuthor": "David Lord",
      "commitDateOld": "2016/8/20 上午3:25",
      "commitNameOld": "5c4fa7e91cca82f769c11b098114aa6d3322599b",
      "commitAuthorOld": "Markus Unterwaditzer",
      "daysBetweenCommits": 288.97,
      "commitsBetweenForRepo": 269,
      "commitsBetweenForFile": 1,
      "actualSource": "    def _load_form_data(self):\n        RequestBase._load_form_data(self)\n\n        # In debug mode we\u0027re replacing the files multidict with an ad-hoc\n        # subclass that raises a different error for key errors.\n        if (\n            current_app\n            and current_app.debug\n            and self.mimetype !\u003d \u0027multipart/form-data\u0027\n            and not self.files\n        ):\n            from .debughelpers import attach_enctype_error_multidict\n            attach_enctype_error_multidict(self)\n\n",
      "path": "flask/wrappers.py",
      "functionStartLine": 183,
      "functionName": "_load_form_data",
      "functionAnnotation": "",
      "diff": "@@ -1,11 +1,14 @@\n     def _load_form_data(self):\n         RequestBase._load_form_data(self)\n \n         # In debug mode we\u0027re replacing the files multidict with an ad-hoc\n         # subclass that raises a different error for key errors.\n-        ctx \u003d _app_ctx_stack.top\n-        if ctx is not None and ctx.app.debug and \\\n-           self.mimetype !\u003d \u0027multipart/form-data\u0027 and not self.files:\n+        if (\n+            current_app\n+            and current_app.debug\n+            and self.mimetype !\u003d \u0027multipart/form-data\u0027\n+            and not self.files\n+        ):\n             from .debughelpers import attach_enctype_error_multidict\n             attach_enctype_error_multidict(self)\n \n",
      "extendedDetails": {}
    },
    "1df2788a8f29a1238cbdebd7fa59b0d6218995b5": {
      "type": "Ybodychange",
      "commitMessage": "Use app_ctx instead of request_ctx to access the app\n",
      "commitDate": "2016/8/20 上午3:20",
      "commitName": "1df2788a8f29a1238cbdebd7fa59b0d6218995b5",
      "commitAuthor": "Adam Byrtek",
      "commitDateOld": "2016/8/20 上午3:19",
      "commitNameOld": "f0d3b71a94994d52d64d315bc8ef7371db14d76f",
      "commitAuthorOld": "Adam Byrtek",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "    def _load_form_data(self):\n        RequestBase._load_form_data(self)\n\n        # In debug mode we\u0027re replacing the files multidict with an ad-hoc\n        # subclass that raises a different error for key errors.\n        ctx \u003d _app_ctx_stack.top\n        if ctx is not None and ctx.app.debug and \\\n           self.mimetype !\u003d \u0027multipart/form-data\u0027 and not self.files:\n            from .debughelpers import attach_enctype_error_multidict\n            attach_enctype_error_multidict(self)\n\n",
      "path": "flask/wrappers.py",
      "functionStartLine": 188,
      "functionName": "_load_form_data",
      "functionAnnotation": "",
      "diff": "@@ -1,11 +1,11 @@\n     def _load_form_data(self):\n         RequestBase._load_form_data(self)\n \n         # In debug mode we\u0027re replacing the files multidict with an ad-hoc\n         # subclass that raises a different error for key errors.\n-        ctx \u003d _request_ctx_stack.top\n+        ctx \u003d _app_ctx_stack.top\n         if ctx is not None and ctx.app.debug and \\\n            self.mimetype !\u003d \u0027multipart/form-data\u0027 and not self.files:\n             from .debughelpers import attach_enctype_error_multidict\n             attach_enctype_error_multidict(self)\n \n",
      "extendedDetails": {}
    },
    "bafc13981002dee4610234c7c97ac176766181c1": {
      "type": "Ybodychange",
      "commitMessage": "Added EXPLAIN_TEMPLATE_LOADING to help people debug templates not being loaded.\n",
      "commitDate": "2014/9/3 下午11:57",
      "commitName": "bafc13981002dee4610234c7c97ac176766181c1",
      "commitAuthor": "Armin Ronacher",
      "commitDateOld": "2014/4/12 上午4:40",
      "commitNameOld": "fbda3f94baa6d7dba8f773309121284c6e6c5a6d",
      "commitAuthorOld": "raimu",
      "daysBetweenCommits": 144.8,
      "commitsBetweenForRepo": 109,
      "commitsBetweenForFile": 1,
      "actualSource": "    def _load_form_data(self):\n        RequestBase._load_form_data(self)\n\n        # In debug mode we\u0027re replacing the files multidict with an ad-hoc\n        # subclass that raises a different error for key errors.\n        ctx \u003d _request_ctx_stack.top\n        if ctx is not None and ctx.app.debug and \\\n           self.mimetype !\u003d \u0027multipart/form-data\u0027 and not self.files:\n            from .debughelpers import attach_enctype_error_multidict\n            attach_enctype_error_multidict(self)\n\n",
      "path": "flask/wrappers.py",
      "functionStartLine": 178,
      "functionName": "_load_form_data",
      "functionAnnotation": "",
      "diff": "@@ -1,10 +1,11 @@\n     def _load_form_data(self):\n         RequestBase._load_form_data(self)\n \n         # In debug mode we\u0027re replacing the files multidict with an ad-hoc\n         # subclass that raises a different error for key errors.\n         ctx \u003d _request_ctx_stack.top\n         if ctx is not None and ctx.app.debug and \\\n            self.mimetype !\u003d \u0027multipart/form-data\u0027 and not self.files:\n+            from .debughelpers import attach_enctype_error_multidict\n             attach_enctype_error_multidict(self)\n \n",
      "extendedDetails": {}
    },
    "ac99cd33a827f0694d718dae5f2699430263ed7e": {
      "type": "Ybodychange",
      "commitMessage": "Better internal method name\n",
      "commitDate": "2011/8/6 上午3:54",
      "commitName": "ac99cd33a827f0694d718dae5f2699430263ed7e",
      "commitAuthor": "Armin Ronacher",
      "commitDateOld": "2011/8/5 下午10:51",
      "commitNameOld": "3400b78db23fbd305cb11368946be1bf280e2696",
      "commitAuthorOld": "Armin Ronacher",
      "daysBetweenCommits": 0.21,
      "commitsBetweenForRepo": 2,
      "commitsBetweenForFile": 1,
      "actualSource": "    def _load_form_data(self):\n        RequestBase._load_form_data(self)\n\n        # in debug mode we\u0027re replacing the files multidict with an ad-hoc\n        # subclass that raises a different error for key errors.\n        ctx \u003d _request_ctx_stack.top\n        if ctx is not None and ctx.app.debug and \\\n           self.mimetype !\u003d \u0027multipart/form-data\u0027 and not self.files:\n            attach_enctype_error_multidict(self)\n\n",
      "path": "flask/wrappers.py",
      "functionStartLine": 103,
      "functionName": "_load_form_data",
      "functionAnnotation": "",
      "diff": "@@ -1,10 +1,10 @@\n     def _load_form_data(self):\n         RequestBase._load_form_data(self)\n \n         # in debug mode we\u0027re replacing the files multidict with an ad-hoc\n         # subclass that raises a different error for key errors.\n         ctx \u003d _request_ctx_stack.top\n         if ctx is not None and ctx.app.debug and \\\n            self.mimetype !\u003d \u0027multipart/form-data\u0027 and not self.files:\n-            make_enctype_error_multidict(self)\n+            attach_enctype_error_multidict(self)\n \n",
      "extendedDetails": {}
    },
    "3400b78db23fbd305cb11368946be1bf280e2696": {
      "type": "Ybodychange",
      "commitMessage": "Only provide that monkeypatch if all files are missing\n",
      "commitDate": "2011/8/5 下午10:51",
      "commitName": "3400b78db23fbd305cb11368946be1bf280e2696",
      "commitAuthor": "Armin Ronacher",
      "commitDateOld": "2011/8/5 下午10:43",
      "commitNameOld": "2e022cb2727cfa99355261f2c18d1e0fc56e82ee",
      "commitAuthorOld": "Armin Ronacher",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 3,
      "commitsBetweenForFile": 1,
      "actualSource": "    def _load_form_data(self):\n        RequestBase._load_form_data(self)\n\n        # in debug mode we\u0027re replacing the files multidict with an ad-hoc\n        # subclass that raises a different error for key errors.\n        ctx \u003d _request_ctx_stack.top\n        if ctx is not None and ctx.app.debug and \\\n           self.mimetype !\u003d \u0027multipart/form-data\u0027 and not self.files:\n            make_enctype_error_multidict(self)\n\n",
      "path": "flask/wrappers.py",
      "functionStartLine": 103,
      "functionName": "_load_form_data",
      "functionAnnotation": "",
      "diff": "@@ -1,10 +1,10 @@\n     def _load_form_data(self):\n         RequestBase._load_form_data(self)\n \n         # in debug mode we\u0027re replacing the files multidict with an ad-hoc\n         # subclass that raises a different error for key errors.\n         ctx \u003d _request_ctx_stack.top\n         if ctx is not None and ctx.app.debug and \\\n-           self.mimetype !\u003d \u0027multipart/form-data\u0027:\n+           self.mimetype !\u003d \u0027multipart/form-data\u0027 and not self.files:\n             make_enctype_error_multidict(self)\n \n",
      "extendedDetails": {}
    },
    "2e022cb2727cfa99355261f2c18d1e0fc56e82ee": {
      "type": "Yintroduced",
      "commitMessage": "Added debughelpers.  Flask will now tell you if you forget enctype\n",
      "commitDate": "2011/8/5 下午10:43",
      "commitName": "2e022cb2727cfa99355261f2c18d1e0fc56e82ee",
      "commitAuthor": "Armin Ronacher",
      "diff": "@@ -0,0 +1,10 @@\n+    def _load_form_data(self):\n+        RequestBase._load_form_data(self)\n+\n+        # in debug mode we\u0027re replacing the files multidict with an ad-hoc\n+        # subclass that raises a different error for key errors.\n+        ctx \u003d _request_ctx_stack.top\n+        if ctx is not None and ctx.app.debug and \\\n+           self.mimetype !\u003d \u0027multipart/form-data\u0027:\n+            make_enctype_error_multidict(self)\n+\n",
      "actualSource": "    def _load_form_data(self):\n        RequestBase._load_form_data(self)\n\n        # in debug mode we\u0027re replacing the files multidict with an ad-hoc\n        # subclass that raises a different error for key errors.\n        ctx \u003d _request_ctx_stack.top\n        if ctx is not None and ctx.app.debug and \\\n           self.mimetype !\u003d \u0027multipart/form-data\u0027:\n            make_enctype_error_multidict(self)\n\n",
      "path": "flask/wrappers.py",
      "functionStartLine": 103,
      "functionName": "_load_form_data",
      "functionAnnotation": ""
    }
  }
}